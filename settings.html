<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SAQSY — Settings</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

<style>
.content {
  flex: 1;
  padding: 40px;
}

h1 {
  font-size: 32px;
  margin-bottom: 25px;
}

.setting-box {
  background: var(--panel-dark);
  padding: 22px;
  border-radius: 12px;
  margin-bottom: 18px;
  border: 1px solid var(--accent-2);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
html.light-theme .setting-box {
  background: var(--panel-light);
}

.setting-title {
  font-size: 20px;
  font-weight: 700;
}

select {
  padding: 10px;
  font-size: 15px;
  border-radius: 10px;
  background: #E0E5EB;
  border: none;
}
</style>
</head>

<body>

<div class="sidebar">
  <div class="logo" data-i18n="brand">SAQSY</div>

  <div class="menu">
    <a href="dashboard.html"><i class="fa-solid fa-house"></i> <span data-i18n="menu_home">Home</span></a>
    <a href="map.html"><i class="fa-solid fa-map"></i> <span data-i18n="menu_map">Map</span></a>
    <a href="officers.html"><i class="fa-solid fa-users"></i> <span data-i18n="menu_officers">Officers</span></a>
    <a href="reports.html"><i class="fa-solid fa-file"></i> <span data-i18n="menu_reports">Reports</span></a>
    <a href="profile.html"><i class="fa-solid fa-user"></i> <span data-i18n="menu_profile">Profile</span></a>
    <a href="#" class="active"><i class="fa-solid fa-gear"></i> <span data-i18n="menu_settings">Settings</span></a>
  </div>
</div>

<!-- TopBar auto added -->

<div class="content">

  <h1 data-i18n="settings_title">Settings</h1>

  <!-- Theme -->
  <div class="setting-box">
    <div class="setting-title" data-i18n="theme">Theme</div>
    <button class="btn" onclick="toggleTheme()" data-i18n="toggle_theme">Toggle</button>
  </div>

  <!-- Language -->
  <div class="setting-box">
    <div class="setting-title" data-i18n="language">Language</div>
    <select id="langSelect" onchange="changeLanguage()">
      <option value="en">English</option>
      <option value="ru">Русский</option>
      <option value="kz">Қазақша</option>
    </select>
  </div>

</div>

<script>
// Apply saved language to select dropdown
document.getElementById("langSelect").value = localStorage.getItem("saqsy_lang") || "en";

function changeLanguage(){
  const lang = document.getElementById("langSelect").value;
  localStorage.setItem("saqsy_lang", lang);
  updateLang();
}

// --------- Translations ----------
const translations = {
en:{
  brand:"SAQSY",
  menu_home:"Home",
  menu_map:"Map",
  menu_officers:"Officers",
  menu_reports:"Reports",
  menu_profile:"Profile",
  menu_settings:"Settings",

  settings_title:"Settings",
  theme:"Theme",
  toggle_theme:"Toggle",
  language:"Language",
},
ru:{
  brand:"SAQSY",
  menu_home:"Главная",
  menu_map:"Карта",
  menu_officers:"Офицеры",
  menu_reports:"Заявления",
  menu_profile:"Профиль",
  menu_settings:"Настройки",

  settings_title:"Настройки",
  theme:"Тема",
  toggle_theme:"Переключить",
  language:"Язык",
},
kz:{
  brand:"SAQSY",
  menu_home:"Басты бет",
  menu_map:"Карта",
  menu_officers:"Офицерлер",
  menu_reports:"Өтініштер",
  menu_profile:"Профиль",
  menu_settings:"Баптаулар",

  settings_title:"Баптаулар",
  theme:"Тақырып",
  toggle_theme:"Ауыстыру",
  language:"Тіл",
}
};

function updateLang(){
  const lang = localStorage.getItem('saqsy_lang') || 'en';
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    if(translations[lang][key]) el.textContent = translations[lang][key];
  });
}
updateLang();
</script>

<script src="app.js"></script>
</body>
</html>
