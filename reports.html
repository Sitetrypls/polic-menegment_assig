<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SAQSY — Reports</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

<style>
.content {
  flex: 1;
  padding: 40px;
}
h1 {
  font-size: 32px;
  margin-bottom: 25px;
}

label {
  display: block;
  margin: 14px 0 6px;
}
input, textarea {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  background: #E0E5EB;
  border: none;
  font-size: 16px;
}
textarea {
  height: 120px;
  resize: vertical;
}

.btn-main {
  width: 100%;
  padding: 14px;
  margin-top: 16px;
  font-size: 18px;
  background: var(--accent);
  border-radius: 10px;
  border: none;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
}

#success {
  display: none;
  margin-top: 18px;
  background: #2ECC71;
  color: #fff;
  padding: 13px;
  border-radius: 10px;
  text-align: center;
  font-weight: bold;
}

/* Reports list */
.report-item {
  background: var(--panel-dark);
  padding: 16px;
  border-radius: 12px;
  border: 1px solid var(--accent-2);
  margin-top: 20px;
}
html.light-theme .report-item {
  background: var(--panel-light);
}

.report-title {
  font-size: 18px;
  font-weight: 700;
}
.report-text {
  margin-top: 6px;
  opacity: 0.85;
  font-size: 15px;
}
</style>

</head>

<body>

<div class="sidebar">
  <div class="logo" data-i18n="brand">SAQSY</div>

  <div class="menu">
    <a href="dashboard.html"><i class="fa-solid fa-house"></i> <span data-i18n="menu_home">Home</span></a>
    <a href="map.html"><i class="fa-solid fa-map"></i> <span data-i18n="menu_map">Map</span></a>
    <a href="officers.html"><i class="fa-solid fa-users"></i> <span data-i18n="menu_officers">Officers</span></a>
    <a href="#" class="active"><i class="fa-solid fa-file"></i> <span data-i18n="menu_reports">Reports</span></a>
    <a href="profile.html"><i class="fa-solid fa-user"></i> <span data-i18n="menu_profile">Profile</span></a>
    <a href="settings.html"><i class="fa-solid fa-gear"></i> <span data-i18n="menu_settings">Settings</span></a>
  </div>
</div>

<!-- TopBar auto added -->

<div class="content">

  <h1 data-i18n="reports_title">Reports</h1>

  <label data-i18n="report_title">Title</label>
  <input type="text" id="title" data-i18n-placeholder="title_ph">

  <label data-i18n="report_description">Description</label>
  <textarea id="desc" data-i18n-placeholder="desc_ph"></textarea>

  <button class="btn btn-main" onclick="submitReport()" data-i18n="submit_btn">Submit</button>

  <div id="success" data-i18n="submitted">✅ Sent Successfully!</div>

  <div id="reportList"></div>

</div>

<script>
// Load saved reports
function loadReports(){
  let reports = JSON.parse(localStorage.getItem("reports") || "[]");
  const list = document.getElementById("reportList");
  list.innerHTML = "";

  reports.forEach(rep=>{
    const box = document.createElement("div");
    box.className = "report-item";
    box.innerHTML = `
      <div class="report-title">${rep.title}</div>
      <div class="report-text">${rep.text}</div>
    `;
    list.prepend(box);
  });
}

// Submit report
function submitReport(){
  const title = document.getElementById("title").value.trim();
  const desc = document.getElementById("desc").value.trim();

  if(!title || !desc){
    alert("Fill all fields!");
    return;
  }

  let reports = JSON.parse(localStorage.getItem("reports") || "[]");
  reports.push({ title: title, text: desc });
  localStorage.setItem("reports", JSON.stringify(reports));

  document.getElementById("success").style.display = "block";
  setTimeout(()=>{ document.getElementById("success").style.display="none"; }, 2000);

  document.getElementById("title").value = "";
  document.getElementById("desc").value = "";

  loadReports();
}

// --------- Translations ----------
const translations = {
en:{
  brand:"SAQSY",
  menu_home:"Home",
  menu_map:"Map",
  menu_officers:"Officers",
  menu_reports:"Reports",
  menu_profile:"Profile",
  menu_settings:"Settings",

  reports_title:"Reports",
  report_title:"Title",
  report_description:"Description",
  title_ph:"Enter title...",
  desc_ph:"Describe the case...",
  submit_btn:"Submit",
  submitted:"✅ Sent Successfully!"
},
ru:{
  brand:"SAQSY",
  menu_home:"Главная",
  menu_map:"Карта",
  menu_officers:"Офицеры",
  menu_reports:"Заявления",
  menu_profile:"Профиль",
  menu_settings:"Настройки",

  reports_title:"Заявления",
  report_title:"Название",
  report_description:"Описание",
  title_ph:"Введите название...",
  desc_ph:"Опишите ситуацию...",
  submit_btn:"Отправить",
  submitted:"✅ Успешно отправлено!"
},
kz:{
  brand:"SAQSY",
  menu_home:"Басты бет",
  menu_map:"Карта",
  menu_officers:"Офицерлер",
  menu_reports:"Өтініштер",
  menu_profile:"Профиль",
  menu_settings:"Баптаулар",

  reports_title:"Өтініштер",
  report_title:"Тақырып",
  report_description:"Сипаттама",
  title_ph:"Тақырып енгізіңіз...",
  desc_ph:"Жағдайды сипаттаңыз...",
  submit_btn:"Жіберу",
  submitted:"✅ Сәтті жіберілді!"
}
};

function updateLang(){
  const lang = localStorage.getItem('saqsy_lang') || 'en';
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    if(translations[lang][key]) el.textContent = translations[lang][key];
  });
  document.querySelectorAll("[data-i18n-placeholder]").forEach(el=>{
    const key = el.getAttribute("data-i18n-placeholder");
    if(translations[lang][key]) el.placeholder = translations[lang][key];
  });
}
updateLang();
loadReports();
</script>

<script src="app.js"></script>
</body>
</html>
