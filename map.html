<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SAQSY â€” Map</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<style>
.content {
  flex: 1;
  padding: 0;
  position: relative;
}

#map {
  height: 100vh;
  width: calc(100vw - 230px);
  margin-left: 230px;
}

/* Dark/Light compatibility */
html.light-theme #map {
  filter: brightness(1);
}
</style>
</head>

<body>

<div class="sidebar">
  <div class="logo" data-i18n="brand">SAQSY</div>

  <div class="menu">
    <a href="dashboard.html"><i class="fa-solid fa-house"></i> <span data-i18n="menu_home">Home</span></a>
    <a href="#" class="active"><i class="fa-solid fa-map"></i> <span data-i18n="menu_map">Map</span></a>
    <a href="officers.html"><i class="fa-solid fa-users"></i> <span data-i18n="menu_officers">Officers</span></a>
    <a href="reports.html"><i class="fa-solid fa-file"></i> <span data-i18n="menu_reports">Reports</span></a>
    <a href="profile.html"><i class="fa-solid fa-user"></i> <span data-i18n="menu_profile">Profile</span></a>
    <a href="settings.html"><i class="fa-solid fa-gear"></i> <span data-i18n="menu_settings">Settings</span></a>
  </div>
</div>

<!-- TopBar Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ‡ÐµÑ€ÐµÐ· app.js -->

<div class="content">
  <div id="map"></div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
// Kazakhstan center
const map = L.map('map').setView([51.1605, 71.4704], 12); // Astana

L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
  maxZoom: 19
}).addTo(map);

// Police icon
const policeIcon = L.icon({
  iconUrl: "https://cdn-icons-png.flaticon.com/512/2977/2977365.png",
  iconSize: [40, 40],
  iconAnchor: [20, 40]
});

// Example officers on map
const officers = [
  { name: "Officer A", pos: [51.1645, 71.4704] },
  { name: "Officer B", pos: [51.1532, 71.4631] },
  { name: "Officer C", pos: [51.1678, 71.4805] }
];

officers.forEach(o=>{
  L.marker(o.pos, { icon: policeIcon }).addTo(map)
  .bindPopup(`<b>${o.name}</b><br>On duty âœ…`);
});

// ðŸ”¹ Translations
const translations = {
en:{
  brand:"SAQSY",
  menu_home:"Home",
  menu_map:"Map",
  menu_officers:"Officers",
  menu_reports:"Reports",
  menu_profile:"Profile",
  menu_settings:"Settings",
},
ru:{
  brand:"SAQSY",
  menu_home:"Ð“Ð»Ð°Ð²Ð½Ð°Ñ",
  menu_map:"ÐšÐ°Ñ€Ñ‚Ð°",
  menu_officers:"ÐžÑ„Ð¸Ñ†ÐµÑ€Ñ‹",
  menu_reports:"Ð—Ð°ÑÐ²Ð»ÐµÐ½Ð¸Ñ",
  menu_profile:"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ",
  menu_settings:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
},
kz:{
  brand:"SAQSY",
  menu_home:"Ð‘Ð°ÑÑ‚Ñ‹ Ð±ÐµÑ‚",
  menu_map:"ÐšÐ°Ñ€Ñ‚Ð°",
  menu_officers:"ÐžÑ„Ð¸Ñ†ÐµÑ€Ð»ÐµÑ€",
  menu_reports:"Ó¨Ñ‚Ñ–Ð½Ñ–ÑˆÑ‚ÐµÑ€",
  menu_profile:"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ",
  menu_settings:"Ð‘Ð°Ð¿Ñ‚Ð°ÑƒÐ»Ð°Ñ€",
}
};

function updateLang(){
  const lang = localStorage.getItem('saqsy_lang') || 'en';
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const k = el.getAttribute("data-i18n");
    if(translations[lang][k]) el.textContent = translations[lang][k];
  });
}
updateLang();
</script>

<script src="app.js"></script>
</body>
</html>
